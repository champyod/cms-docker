# =============================================================================
# CMS Core Services Environment Configuration
# Author: CCYod | Repository: https://github.com/champyod/cms-docker
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Public IP address of your VPS/server (for remote worker connection)
# Leave as 0.0.0.0 for localhost, or set your public IP
# Public IP address of your VPS/server (for remote worker connection)
PUBLIC_IP=0.0.0.0

# Build Configuration
# Ubuntu mirror for faster builds (e.g., mirrors.digitalocean.com, th.archive.ubuntu.com)
# Defaults to archive.ubuntu.com if not set.
APT_MIRROR=archive.ubuntu.com

# Tailscale IP for remote worker database access
# If you have remote workers connecting via Tailscale, set this to your VPS Tailscale IP
# Example: TAILSCALE_IP=100.105.144.120
TAILSCALE_IP=
# Example: PUBLIC_IP=YOUR_PUBLIC_IP_HERE13.45

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_DB=cmsdb
POSTGRES_USER=cmsuser
POSTGRES_PASSWORD=YOUR_DB_PASSWORD_HERE
POSTGRES_HOST=database
POSTGRES_HOST_AUTH_METHOD=md5

# -----------------------------------------------------------------------------
# Security Configuration
# -----------------------------------------------------------------------------
# Global Secret Key for session signing
# Generate with: python3 -c 'from cmscommon import crypto; print(crypto.get_hex_random_key())'
SECRET_KEY=YOUR_SECRET_KEY_HERE

# -----------------------------------------------------------------------------
# CMS Configuration
# -----------------------------------------------------------------------------
CMS_CONFIG=/usr/local/etc/cms.toml

# -----------------------------------------------------------------------------
# Service Shards (Instance Numbers)
# -----------------------------------------------------------------------------
LOG_SERVICE_SHARD=0
RESOURCE_SERVICE_SHARD=0
SCORING_SERVICE_SHARD=0
EVALUATION_SERVICE_SHARD=0
PROXY_SERVICE_SHARD=0
CHECKER_SERVICE_SHARD=0

# -----------------------------------------------------------------------------
# Paths
# -----------------------------------------------------------------------------
# These values are set as defaults but can be overridden
CMS_LOG_DIR=/var/local/log/cms
CMS_CACHE_DIR=/var/local/cache/cms
CMS_DATA_DIR=/var/local/lib/cms
