# =============================================================================
# CMS Core Services Environment Configuration
# Author: CCYod | Repository: https://github.com/champyod/cms-docker
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
# Access Method: "public_port" or "domain"
# - public_port: Use IP:Port (e.g., http://1.2.3.4:8888) - Easiest for testing
# - domain: Use domain names (e.g., http://contest.cms.local) - Requires DNS/Hosts
ACCESS_METHOD=public_port

# Public IP address of your VPS/server (for remote worker connection)
# Leave as 0.0.0.0 for localhost, or set your public IP
PUBLIC_IP=0.0.0.0
# Example: PUBLIC_IP=203.0.113.45

# Domain Configuration (only used if ACCESS_METHOD=domain)
# Base domain for your CMS services
CMS_DOMAIN=cms.local

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# Database Connection Details
POSTGRES_HOST=database
POSTGRES_PORT=5432
# External port to expose on the host (change this if 5432 is taken)
POSTGRES_PORT_EXTERNAL=5432
POSTGRES_DB=cmsdb
POSTGRES_USER=cmsuser
POSTGRES_PASSWORD=YOUR_DB_PASSWORD_HERE
POSTGRES_HOST_AUTH_METHOD=md5

# -----------------------------------------------------------------------------
# CMS Configuration
# -----------------------------------------------------------------------------
CMS_CONFIG=/usr/local/etc/cms.toml

# -----------------------------------------------------------------------------
# Service Shards (Instance Numbers)
# -----------------------------------------------------------------------------
LOG_SERVICE_SHARD=0
RESOURCE_SERVICE_SHARD=0
SCORING_SERVICE_SHARD=0
EVALUATION_SERVICE_SHARD=0
PROXY_SERVICE_SHARD=0
CHECKER_SERVICE_SHARD=0

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# Connected workers are managed through the Admin Panel UI
# Format: WORKER_N=hostname:port (e.g., WORKER_0=cms-worker-0:26000)
# These will be injected into cms.toml when running 'make env'
# Leave empty or comment out if no workers are configured yet
WORKER_0=cms-worker-0:26000
# WORKER_1=cms-worker-1:26001
# WORKER_2=192.168.1.50:26000
# Add more workers as needed...

# -----------------------------------------------------------------------------
# Paths
# -----------------------------------------------------------------------------
CMS_LOG_DIR=/var/local/log/cms
CMS_CACHE_DIR=/var/local/cache/cms
CMS_DATA_DIR=/var/local/lib/cms
