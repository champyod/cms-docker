# =============================================================================
# CMS Worker Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# Core Services Connection
# -----------------------------------------------------------------------------
# Hostname or IP address of the server running core services
# For local workers: use 'localhost' or service name (e.g., 'cms-log-service')
# For remote workers: use your VPS public IP (e.g., '203.0.113.45')
CORE_SERVICES_HOST=localhost

# -----------------------------------------------------------------------------
# CMS Configuration
# -----------------------------------------------------------------------------
CMS_CONFIG=/usr/local/etc/cms.conf

# =============================================================================
# CMS Worker Environment Configuration
# Author: CCYod | Repository: https://github.com/champyod/cms-docker
# =============================================================================

# -----------------------------------------------------------------------------
# Worker Configuration
# -----------------------------------------------------------------------------
# Worker shard - MUST be unique for each worker instance
# Start from 0 for local workers, use higher numbers (10+) for remote workers
WORKER_SHARD=0

# Worker identification name
WORKER_NAME=worker-0

# -----------------------------------------------------------------------------
# Sandbox Settings
# -----------------------------------------------------------------------------
# Keep sandbox directories after evaluation (warning: uses disk space)
KEEP_SANDBOX=false

# Maximum file size in KB that solutions can write (default: 1GB)
MAX_FILE_SIZE=1048576

# -----------------------------------------------------------------------------
# Resource Limits
# -----------------------------------------------------------------------------
# CPU cores limit for this worker
WORKER_CPU_LIMIT=4

# Memory limit for this worker
WORKER_MEMORY_LIMIT=4G

# CPU cores reservation (minimum guaranteed)
WORKER_CPU_RESERVATION=1

# Memory reservation (minimum guaranteed)
WORKER_MEMORY_RESERVATION=1G

# -----------------------------------------------------------------------------
# Scaling Configuration
# -----------------------------------------------------------------------------
# Number of worker replicas (for Docker Swarm/Kubernetes)
WORKER_REPLICAS=1

# -----------------------------------------------------------------------------
# Paths
# -----------------------------------------------------------------------------
CMS_LOG_DIR=/var/local/log/cms
CMS_CACHE_DIR=/var/local/cache/cms
CMS_DATA_DIR=/var/local/lib/cms
